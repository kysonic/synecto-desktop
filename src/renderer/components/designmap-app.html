<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<!-- Iron -->
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../../bower_components/iron-iconset-svg/iron-iconset-svg.html">
<!-- Third -->
<link rel="import" href="../../../bower_components/i18-n/i18-n-domain.html">

<link rel="import" href="../styles/app-theme.html">
<!-- Components -->
<link rel="import" href="./designmap/designmap-login/designmap-login-form.html">
<link rel="import" href="./designmap/designmap-toolbar/designmap-toolbar.html">

<dom-module id="designmap-app">
    <template>
        <iron-pages
                selected="[[screen]]"
                attr-for-selected="name"
                role="main">
            <designmap-login-form id="login" name="login"></designmap-login-form>
            <designmap-toolbar id="toolbar" name="toolbar"></designmap-toolbar>
        </iron-pages>
    </template>
    <script>
        Polymer({
            is: 'designmap-app',
            behaviors: [],
            properties: {
                screen: {
                    type: String,
                    value: 'login'
                },
                system: {
                    type: Object,
                    value: {}
                },
                user: {
                    type: Object,
                    value: {}
                }
            },
            /**
             * Establish communication between
             * renderer app and main process.
             * appVarChange channel helps us to
             * change any property of main application
             */
            ready: function(){
                ipcRenderer.on('appVarChange',(e,o)=>{
                    this[o.var] = o.val;
                });
            }
        })
    </script>
</dom-module>
